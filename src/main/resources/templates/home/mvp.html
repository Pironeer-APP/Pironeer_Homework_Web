<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<script src="/js/main.js"></script>

    <link rel="stylesheet" href="/css/main.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í”¼ë¡œì²´í¬</title>
    <link rel="shortcut icon" href="/logo/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/mvp.css">
    <link rel="stylesheet" href="/css/firework.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR&family=Jua&family=Poor+Story&display=swap"
          rel="stylesheet">

    <style>
        .mvpName {
            font-weight: bold;
            font-size: 40px;
        }

        a:hover {
            text-decoration: none;
        }

        a {
            text-decoration: none;
        }
    </style>
<link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="/css/footer.css">
</head>
<body>

<div class="popup-container" th:if="${mvp1.mvpMember.memberId == member.memberId and mvp1.visual}">
    <div class="popup" style="background-color: white;">
        <canvas class="stage"></canvas>
        <div class="trophy-icon">ğŸ†</div>
        <h1 style="color: black;">1ì£¼ì°¨ MVP ì¶•í•˜ë“œë¦½ë‹ˆë‹¤!</h1>
        <p style="color: black;" class="mvpName" th:text="|${mvp1.mvpMember.name}ë‹˜|">ğŸ€ìµœìŠ¹í˜¸ë‹˜ğŸ€</p>

        <button class="close-button" style=" font-weight: bold;">ë‹«ê¸°</button>
    </div>
</div>

<div class="popup-container" th:if="${mvp2.mvpMember.memberId == member.memberId and mvp2.visual}">
    <div class="popup" style="background-color: white;">
        <canvas class="stage"></canvas>
        <div class="trophy-icon">ğŸ†</div>
        <h1 style="color: black;">2ì£¼ì°¨ MVP ì¶•í•˜ë“œë¦½ë‹ˆë‹¤!</h1>
        <p style="color: black;" class="mvpName" th:text="|${mvp2.mvpMember.name}ë‹˜|">ğŸ€ìµœìŠ¹í˜¸ë‹˜ğŸ€</p>

        <button class="close-button" style=" font-weight: bold;">ë‹«ê¸°</button>
    </div>
</div>

<div class="popup-container" th:if="${mvp3.mvpMember.memberId == member.memberId and mvp3.visual}">
    <div class="popup" style="background-color: white;">
        <canvas class="stage"></canvas>
        <div class="trophy-icon">ğŸ†</div>
        <h1 style="color: black;">3ì£¼ì°¨ MVP ì¶•í•˜ë“œë¦½ë‹ˆë‹¤!</h1>
        <p style="color: black;" class="mvpName" th:text="|${mvp3.mvpMember.name}ë‹˜|">ğŸ€ìµœìŠ¹í˜¸ë‹˜ğŸ€</p>

        <button class="close-button" style=" font-weight: bold;">ë‹«ê¸°</button>
    </div>
</div>

<div class="popup-container" th:if="${mvp4.mvpMember.memberId == member.memberId and mvp4.visual}">
    <div class="popup" style="background-color: white;">
        <canvas class="stage"></canvas>
        <div class="trophy-icon">ğŸ†</div>
        <h1 style="color: black;">4ì£¼ì°¨ MVP ì¶•í•˜ë“œë¦½ë‹ˆë‹¤!</h1>
        <p style="color: black;" class="mvpName" th:text="|${mvp4.mvpMember.name}ë‹˜|">ğŸ€ìµœìŠ¹í˜¸ë‹˜ğŸ€</p>

        <button class="close-button" style=" font-weight: bold;">ë‹«ê¸°</button>
    </div>
</div>

<div class="popup-container" th:if="${mvp5.mvpMember.memberId == member.memberId and mvp5.visual}">
    <div class="popup" style="background-color: white;">
        <canvas class="stage"></canvas>
        <div class="trophy-icon">ğŸ†</div>
        <h1 style="color: black;">ì±Œë¦°ì € MVP ì¶•í•˜ë“œë¦½ë‹ˆë‹¤!</h1>
        <p style="color: black;" class="mvpName" th:text="|${mvp5.mvpMember.name}ë‹˜|">ğŸ€ìµœìŠ¹í˜¸ë‹˜ğŸ€</p>

        <button class="close-button" style=" font-weight: bold;">ë‹«ê¸°</button>
    </div>
</div>


<div class="container">
    <header class="header">
        <a href="/" class="logo-link">
            <h1 class="title">PiroCheck</h1>
        </a>
    </header>

    <main class="main">
        <div class="card">
            <h2 class="page-title">ğŸ‘‘í”¼ë¡œê·¸ë˜ë° MVPğŸ‘‘</h2>

            <div class="mvp-list">

                <div class="mvp-item" data-id="1" th:data-flag="${mvp1.flag}">
                        <h3>1ì£¼ì°¨ MVP</h3>
                        <div class="mvp-icon">ğŸ†</div>
                        <p class="mvp-name" th:text="${mvp1.mvpMember.name}">ìµœìŠ¹í˜¸</p>
                </div>
                <div class="mvp-item" data-id="2" th:data-flag="${mvp2.flag}">

                        <h3>2ì£¼ì°¨ MVP</h3>
                        <div class="mvp-icon">ğŸ†</div>
                        <p class="mvp-name" th:text="${mvp2.mvpMember.name}">ê¹€ë¯¼ìˆ˜</p>
                </div>

                <div class="mvp-item" data-id="3" th:data-flag="${mvp3.flag}">
                        <h3>3ì£¼ì°¨ MVP</h3>
                        <div class="mvp-icon">ğŸ†</div>
                        <p class="mvp-name" th:text="${mvp3.mvpMember.name}">ì´ì§€í˜„</p>
                </div>

                <div class="mvp-item" data-id="4" th:data-flag="${mvp4.flag}">
                    <h3>4ì£¼ì°¨ MVP</h3>
                    <div class="mvp-icon">ğŸ†</div>
                    <p class="mvp-name" th:text="${mvp4.mvpMember.name}">ì¥ì§€ìš”</p>

                </div>
            </div>

            <div class="challenge-container">
                <div class="mvp-item challenge" data-id="5" th:data-flag="${mvp5.flag}">
                    <a href="/mvp/5">
                        <h3>ì±Œë¦°ì§€ MVP</h3>
                        <div class="mvp-icon">ğŸ‘‘</div>
                        <p class="mvp-name" th:text="${mvp5.mvpMember.name}">ì†ê´€ìš°</p>
                    </a>
                </div>
            </div>
        </div>
    </main>

    <div class="footer">
        <form th:action="@{/logout}" method="post">
            <button type="submit" class="logout-btn" style=""> ë¡œê·¸ì•„ì›ƒ</button>
        </form>
    </div>
</div>
<script src='/js/fireworks/src/index.js' type='module'></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // ëª¨ë“  íŒì—… ì»¨í…Œì´ë„ˆ ê°€ì ¸ì˜¤ê¸°
        const popups = document.querySelectorAll('.popup-container');

        // íŒì—… ì»¨í…Œì´ë„ˆì— 'show' í´ë˜ìŠ¤ ì¶”ê°€
        popups.forEach(popup => {
            popup.classList.add('show'); // í˜ì´ì§€ ë¡œë“œ ì‹œ íŒì—… í‘œì‹œ
        });

        // ë‹«ê¸° ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡
        const closeButtons = document.querySelectorAll('.close-button');
        closeButtons.forEach(button => {
            button.addEventListener('click', (event) => {
                const popupContainer = event.target.closest('.popup-container');
                if (popupContainer) {
                    popupContainer.classList.remove('show'); // 'show' í´ë˜ìŠ¤ ì œê±°
                }
            });
        });
    });

</script>


<script>

    document.addEventListener("DOMContentLoaded", function () {
        // ëª¨ë“  mvp-itemì„ ì„ íƒ
        const mvpItems = document.querySelectorAll(".mvp-item");

        // ê° mvp-itemì— í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
        mvpItems.forEach(item => {
            item.addEventListener("click", function () {
                // data-idì™€ data-flag ê°’ ê°€ì ¸ì˜¤ê¸°
                const id = this.getAttribute("data-id");
                const flag = this.getAttribute("data-flag") === "true"; // flag ê°’ì„ booleanìœ¼ë¡œ ë³€í™˜

                // flagê°€ falseì´ë©´ ì•Œë¦¼ì°½ ë„ìš°ê¸°
                if (!flag) {
                    alert("í•´ë‹¹ í•­ëª©ì€ í˜„ì¬ ì„ íƒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                } else {
                    // flagê°€ trueì¼ ë•Œë§Œ í˜ì´ì§€ ì´ë™
                    window.location.href = `/mvp/${id}`;
                }
            });
        });
    });

</script>
    <footer th:replace="~{footer/footer}"></footer>
</body>
</html>